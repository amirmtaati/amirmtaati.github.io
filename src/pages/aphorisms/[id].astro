---
// src/pages/aphorisms/[id].astro
import BaseLayout from '../../layouts/BaseLayout.astro';
import Navigation from '../../components/Navigation.astro';
import Footer from '../../components/Footer.astro';
import ThemeToggle from '../../components/ThemeToggle.astro';

// Mock data for aphorisms - in a real app, you'd fetch this from a database or CMS
const aphorisms = [
  {
    id: '1',
    content: 'The quieter you become, the more you can hear.',
    date: new Date('2025-04-28'),
    reflection: 'This aphorism speaks to the value of silence and active listening. In our noisy world, we often miss subtle insights because we\'re too busy talking or distracted by constant noise. When we cultivate inner silence, we create space to truly hear others and ourselves.'
  },
  {
    id: '2',
    content: 'Simplicity is the ultimate sophistication.',
    date: new Date('2025-04-25'),
    reflection: 'There\'s profound elegance in simplicity. Creating something simple often requires deep understanding and careful refinement. Whether in design, writing, or living, true mastery is demonstrated by the ability to distill complexity into essential elements.'
  },
  {
    id: '3',
    content: 'The best way to predict the future is to invent it.',
    date: new Date('2025-04-22'),
    reflection: 'Rather than passively waiting for change, this aphorism encourages us to actively shape our future. By taking initiative and creating what we wish to see in the world, we exercise agency in determining what\'s to come.'
  },
  {
    id: '4',
    content: 'We shape our tools, and thereafter our tools shape us.',
    date: new Date('2025-04-19'),
    reflection: 'This speaks to the reciprocal relationship between humans and technology. We create tools to serve our needs, but over time, these tools influence our behaviors, thought patterns, and social structures in profound ways.'
  },
  {
    id: '5',
    content: 'Technology is best when it brings people together.',
    date: new Date('2025-04-16'),
    reflection: 'The highest purpose of technology is connecting humans in meaningful ways. When technology facilitates genuine human connection and understanding, it fulfills its noblest potential.'
  },
  {
    id: '6',
    content: 'The more you know, the more you realize you don\'t know.',
    date: new Date('2025-04-13'),
    reflection: 'True wisdom includes recognizing the vastness of what remains unknown. As our knowledge expands, so does our awareness of how much more there is to learn—a humbling realization that keeps us curious and open-minded.'
  },
  {
    id: '7',
    content: 'Digital minimalism is about choosing the tools that work for you.',
    date: new Date('2025-04-10'),
    reflection: 'Digital minimalism isn\'t about rejecting technology entirely, but being intentional about which technologies we invite into our lives. It\'s a philosophy of technological use based on conscious choice rather than default acceptance.'
  },
  {
    id: '8',
    content: 'Attention is the rarest and purest form of generosity.',
    date: new Date('2025-04-07'),
    reflection: 'In an age of endless distraction, giving someone your undivided attention is increasingly precious. When we truly attend to another person—listening deeply without interruption or distraction—we offer them a profound gift.'
  }
];

export function getStaticPaths() {
  return aphorisms.map(aphorism => ({
    params: { id: aphorism.id },
    props: { aphorism },
  }));
}

const { aphorism } = Astro.props;
---

<BaseLayout title={`Aphorism | ${aphorism.content.substring(0, 30)}...`}>
  <Navigation slot="navigation" />
  <ThemeToggle slot="theme-toggle" />

  <div class="max-w-2xl mx-auto">
    <a href="/aphorisms" class="inline-flex items-center text-gl-accent dark:text-gd-accent hover:underline mb-6">
      <span class="i-carbon-arrow-left mr-2"></span>
      Back to all aphorisms
    </a>
    
    <div class="card card-light dark:card-dark p-8 border-t-4 border-t-gl-accent dark:border-t-gd-accent">
      <blockquote class="font-serif text-2xl italic mb-6 leading-relaxed">
        "{aphorism.content}"
      </blockquote>
      
      <div class="flex justify-end mb-8">
        <time class="text-sm text-gl-fg2 dark:text-gd-fg2">
          {new Date(aphorism.date).toLocaleDateString('en-US', {
            year: 'numeric',
            month: 'long',
            day: 'numeric'
          })}
        </time>
      </div>
      
      <h2 class="text-xl font-serif mb-4">Reflection</h2>
      <div class="prose prose-lg dark:prose-invert">
        <p>{aphorism.reflection}</p>
      </div>
    </div>
    
    <div class="mt-8 flex justify-between">
      {parseInt(aphorism.id) > 1 && (
        <a 
          href={`/aphorisms/${parseInt(aphorism.id) - 1}`}
          class="inline-flex items-center text-gl-accent dark:text-gd-accent hover:underline"
        >
          <span class="i-carbon-chevron-left mr-1"></span>
          Previous
        </a>
      )}
      
      {parseInt(aphorism.id) < aphorisms.length && (
        <a 
          href={`/aphorisms/${parseInt(aphorism.id) + 1}`}
          class="inline-flex items-center text-gl-accent dark:text-gd-accent hover:underline ml-auto"
        >
          Next
          <span class="i-carbon-chevron-right ml-1"></span>
        </a>
      )}
    </div>
  </div>
  
  <Footer slot="footer" />
</BaseLayout>